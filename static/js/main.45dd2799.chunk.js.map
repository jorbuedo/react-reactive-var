{"version":3,"sources":["vars.ts","../../src/index.ts","Button.tsx","Example.tsx","index.js"],"names":["testVar","makeVar","onClick","example","useReactiveVar","Button","ReactDOM","render","document","getElementById"],"mappings":"0LAEaA,G,KCQU,SAAoB,EAAiB,GACxD,IAAE,EAAQ,EACN,EAAc,IAAI,IAElB,EAAc,SAAC,GACf,QAAa,IAAb,EAAwB,CACpB,IAAF,EAAY,EAGd,EADE,aAAoB,SACV,EAAS,GAET,GAGV,EAAa,EAAW,EAAW,GAAS,IAAc,IAC5D,EAAY,SAAQ,SAAC,GAAY,SAAQ,MAE3C,EAAQ,EAEV,OAAO,GAYT,OATE,EAAU,UAAY,SAAC,GAEnB,OADA,EAAQ,IAAI,GACT,WAAM,SAAY,OAAO,KAGhC,EAAU,YAAc,SAAC,GACzB,EAAY,OAAO,IAGd,EDvCcC,CAAgB,IECxB,aAEb,OAAO,4BAAQC,QADK,kBAAMF,EAAQA,IAAY,KACvC,WCAM,aACb,IAAMG,EFsCsB,SAAoB,GAChD,IAAM,EAAU,sBAAW,YAAK,SAAI,IAAG,GAAG,GAS1C,OAPA,qBAAU,WAER,OADA,EAAY,UAAU,GACf,WACL,EAAY,YAAY,MAEzB,IAEI,IEhDSC,CAAeJ,GAC/B,OACE,6BACE,6BAAMG,GACN,kBAACE,EAAD,QCJNC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U","file":"static/js/main.45dd2799.chunk.js","sourcesContent":["import { makeVar } from 'react-reactive-var'\n\nexport const testVar = makeVar<number>(0)\n","import { useReducer, useEffect } from 'react';\n\nvar makeVar = function (initialValue, equalsFunc) {\n    var value = initialValue;\n    var subscribers = new Set();\n    var reactiveVar = function (newValue) {\n        if (newValue !== undefined) {\n            var nextValue_1 = value;\n            if (newValue instanceof Function) {\n                nextValue_1 = newValue(value);\n            }\n            else {\n                nextValue_1 = newValue;\n            }\n            if (equalsFunc ? !equalsFunc(nextValue_1, value) : nextValue_1 !== value) {\n                subscribers.forEach(function (handler) { return handler(nextValue_1); });\n            }\n            value = nextValue_1;\n        }\n        return value;\n    };\n    reactiveVar.subscribe = function (handler) {\n        subscribers.add(handler);\n        return function () { return subscribers.delete(handler); };\n    };\n    reactiveVar.unsubscribe = function (handler) {\n        subscribers.delete(handler);\n    };\n    return reactiveVar;\n};\nvar useReactiveVar = function (reactiveVar) {\n    var handler = useReducer(function (x) { return x + 1; }, 0)[1];\n    useEffect(function () {\n        reactiveVar.subscribe(handler);\n        return function () {\n            reactiveVar.unsubscribe(handler);\n        };\n    }, []);\n    return reactiveVar();\n};\n\nexport { makeVar, useReactiveVar };\n//# sourceMappingURL=index.es.js.map\n","import React from 'react'\nimport { testVar } from './vars'\n\nexport default () => {\n  const handleClick = () => testVar(testVar() + 1)\n  return <button onClick={handleClick}>Click!</button>\n}\n","import React from 'react'\nimport { useReactiveVar } from 'react-reactive-var'\nimport Button from './Button'\nimport { testVar } from './vars'\n\nexport default () => {\n  const example = useReactiveVar(testVar)\n  return (\n    <div>\n      <div>{example}</div>\n      <Button />\n    </div>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './index.css'\nimport App from './Example'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}